<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Football World Cups</title>

		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<link rel="stylesheet" href="assets/css/style.css">
	</head>
	<body>

		<div class="container container-bg">
			<div class="col-md-8 col-md-offset-2">
				<div id="main" class="panel-main">
					<div class="panel-sub">
						<form action="" method="POST" id="submit">
							<div class="profile">
								<div class="circle-image text-center">
									<div class="position-image">
										<img src="assets/images/user.png" alt="" class="img-circle">
									</div>
								</div>
								<div class="row">
									<div class="col-sm-1 col-md-8 col-md-offset-2">
										<p class="profile-desc">
											Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure commodi quis quos iusto illum similique dolorum rem odit qui nihil, suscipit minima at ab veritatis ratione ad incidunt harum maiores dignissimos optio laboriosam doloribus et.
										</p>
									</div>
								</div>
							</div>
							<div class="text-center">
								<button class="btn btn-success btn-green">
									แก้ไขข้อมูล
								</button>
							</div>
							
							<div class="line line-green"></div>
							<p class="text-main text-center">
								ใส่รหัสคาราบาว 7 หลัก
							</p>
							<span class="text-sub text-center"> 
								การส่งเลข 1 ครั้ง ถือเป็น 1 สิทธ์ในการตอบคำถาม 2 คำถาม
							</span>
							<div class="text-center">
								<div class="phone-number">
									<input type="text" id="num-1" class="input-circle input-small event-checked" value="" placeholder="0">
									<input type="text" id="num-2" class="input-circle input-small event-checked" value="" placeholder="0">
									<input type="text" id="num-3" class="input-circle input-small event-checked" value="" placeholder="0">
									<div class="markline">-</div>
									<input type="text" id="num-4" class="input-circle input-small event-checked" value="" placeholder="0">
									<input type="text" id="num-5" class="input-circle input-small event-checked" value="" placeholder="0">
									<input type="text" id="num-6" class="input-circle input-small event-checked" value="" placeholder="0">
									<div class="markline">-</div>
									<input type="text" id="num-7" class="input-circle input-small event-checked" value="" placeholder="0">
								</div>
							</div>
							<div class="row">
								<div class="col-md-10 col-md-offset-1">
									<button id="submit-btn" class="btn btn-danger btn-block btn-red font-dbr">
										ส่งรหัสเลือกทีมที่เชียร์
									</button>
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>

		<!-- Modal -->
		<div class="modal fade" id="numberMore" tabindex="-1" role="dialog" aria-labelledby="numberMoreLabel">
			<div class="modal-dialog modal-dialog-center" role="document">
				<div class="modal-content modal-bg">
					<div class="modal-body text-center">
						<h1>ขออภัยค่ะ</h1>
						คุณกรอกเลขเกิน กรุณาใส่ตัวเลขใหม่อีกครั้งค่ะ
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="inputType" tabindex="-1" role="dialog" aria-labelledby="inputTypeLabel">
			<div class="modal-dialog modal-dialog-center" role="document">
				<div class="modal-content modal-bg">
					<div class="modal-body text-center">
						<h1>ขออภัยค่ะ</h1>
						คุณไม่ได้กรอกตัวเลข
					</div>
				</div>
			</div>
		</div>

		<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script src="assets/js/app.js"></script>
		<script type="text/javascript">
			jQuery(".event-checked").on('keyup', function(e){
			
				if(this.value.length > 1){
					//jQuery("#numberMore").modal('show');
					jQuery(this).val("");
					return false;
				}
				/*
				if(!jQuery.isNumeric(this.value)){
					jQuery("#inputType").modal('show');
					jQuery(this).val("");
					return false;
				}
				*/

				if(!(/^\d+$/.test(this.value))){
					jQuery(this).val("");
					return false;
				}

				var nextID = parseInt(this.id.replace('num-', ''))+1;
				var PrevID = parseInt(this.id.replace('num-', ''))-1;

				if(e.keyCode == 46 || e.keyCode == 8){
					if(PrevID > 0){
						jQuery("#num-"+PrevID).val("");
						jQuery("#num-"+PrevID).focus();
					}
				} else {
					if(nextID < 8){
						jQuery("#num-"+nextID).focus();
					}
				}
			});

			jQuery("#submit").on('submit', function(e){
				var checked = false;
				if (!e.isDefaultPrevented()) {
					for( var init = 1; init <= 7 ; init++){
						if( jQuery("#num-"+init).val().length > 1){
							jQuery("#numberMore").modal('show');
							jQuery(".event-checked").val("");
							return false;
						} else if(!jQuery.isNumeric(jQuery("#num-"+init).val())){
							jQuery("#inputType").modal('show');
							jQuery(this).val("");
							return false;
						}else {
							checked = true;
						}
					}
				}
				jQuery("#submit-btn").addClass('disabled');
				return false;
			});
		</script>
	</body>
</html>